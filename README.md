# GamesAlgorithms
# Стратегия Artyom with Masha (Probabilistic Endgame)

## Обзор Стратегии

Алгоритм `Artyom with Masha` использует смешанную стратегию, которая адаптируется в зависимости от раунда и поведения оппонента:

1.  **Начальная фаза (Раунды 1-15):** Начинает с сотрудничества и проявляет ограниченную терпимость к предательству оппонента.
2.  **Реакция на предательство:** Если оппонент предает слишком много раз в начале игры или предает в середине/конце игры, алгоритм переключается на постоянное предательство.
3.  **Поздняя фаза (Раунды 16+):** Если оппонент не предавал (или предавал в пределах допустимого порога в начале), алгоритм переходит к вероятностному подходу. Шанс предать постепенно увеличивается с каждым раундом, чтобы адаптироваться к неизвестной длине матча (предполагается от 16 до 24 раундов).
4.  **Взаимодействие с командой:** Всегда сотрудничает с игроками из своей команды.

## Детальная Логика

Решение о ходе принимается следующим образом:

1.  **Проверка Команды:**
    * Если `round.opponentTeam === MY_TEAM_NAME`, всегда возвращает `FIGHTER_MODE.cooperate`.

2.  **Раунды 1-15:**
    * Считает количество предательств оппонента (`this.betrayCount`).
    * Если `this.betrayCount < this.trustThreshold` (где `trustThreshold = 2`), возвращает `FIGHTER_MODE.cooperate`.
    * Если `this.betrayCount >= this.trustThreshold`, возвращает `FIGHTER_MODE.compete`.

3.  **Раунды 16 и далее:**
    * **Проверка на необратимое предательство:**
        * Если `this.hasBeenBetrayedBefore16` (оппонент предал в раундах 1-15) ИЛИ `this.hasBeenBetrayedAfter15` (оппонент предал в раундах 16+), возвращает `FIGHTER_MODE.compete` до конца игры.
    * **Вероятностный Эндшпиль (если не был предан):**
        * Если предыдущие условия не выполнены, рассчитывается вероятность предательства (`defectProbability`):
            ```
            defectProbability = (round.roundNum - 15) / (24 - 15)
            ```
            Эта вероятность линейно растет от `1/9` (≈11%) в раунде 16 до `9/9` (100%) в раунде 24.
        * Генерируется случайное число: `Math.random()`.
        * Если `Math.random() < defectProbability`, возвращает `FIGHTER_MODE.compete`.
        * В противном случае, возвращает `FIGHTER_MODE.cooperate`.

# Стратегия Artyom with Roman - Алгоритм Бойца

## Обзор Стратегии

Алгоритм "Artyom with Roman" использует стратегию, которая сочетает начальную агрессию с определенной степенью реакции на поведение противника.

1.  **Против Сокомандников:** Если противник принадлежит к той же команде, алгоритм всегда будет выбирать `FIGHTER_MODE.compete`.
2.  **Первый Раунд:** В самом первом раунде (`round.roundNum === 1`) алгоритм всегда будет выбирать `FIGHTER_MODE.compete`. Это устанавливает изначальную агрессивную позицию.
3.  **Отслеживание Поведения Противника:** После первого раунда алгоритм начинает отслеживать ходы противника. Он записывает `lastOpponentMove` и ведет подсчет количества раз, когда противник выбирал `FIGHTER_MODE.cooperate` (`opponentCoopCount`). Он также отслеживает общее количество сыгранных раундов (`roundsPlayed`).
4.  **Коэффициент Сотрудничества:** Алгоритм вычисляет отношение ходов сотрудничества противника к общему количеству сыгранных раундов (`coopRatio`).
5.  **Решение на Основе Коэффициента Сотрудничества:**
    * Если `coopRatio` больше 0.3, алгоритм выберет `FIGHTER_MODE.compete`. Это указывает на подозрение, что противник слишком часто сотрудничает, и алгоритм может попытаться использовать эту предполагаемую предсказуемость.
    * Если `coopRatio` не больше 0.3, алгоритм рассмотрит последний ход противника:
        * Если `lastOpponentMove` был `FIGHTER_MODE.compete`, алгоритм в основном выберет `FIGHTER_MODE.compete` (с вероятностью 90%), но имеет небольшой шанс (10% вероятности) выбрать `FIGHTER_MODE.cooperate`. Это вносит некоторый элемент непредсказуемости или попытку проверить возможность сотрудничества после того, как столкнулись с конкуренцией.
        * Если `lastOpponentMove` был `FIGHTER_MODE.cooperate`, алгоритм выберет `FIGHTER_MODE.compete`. Это предполагает тенденцию к эксплуатации сотрудничества или агрессивную позицию по умолчанию, когда противник не демонстрировал последовательного сотрудничества.

# Стратегия Roman with Masha (Tactical Mode)

## Обзор Стратегии

Алгоритм "Roman with Masha (Tactical Mode)" использует следующие принципы:

1.  **Внутрикомандное Взаимодействие:**
    * С `'Artyom with Roman (Fighter Mode)'` из той же команды всегда сотрудничает (`FIGHTER_MODE.cooperate`).
    * Со всеми остальными членами своей команды всегда конкурирует (`FIGHTER_MODE.compete`).

2.  **Реакция на Предательство:**
    * Алгоритм ведет счет предательств со стороны внешних оппонентов (`betrayCount`). Предательством считается выбор оппонентом `FIGHTER_MODE.compete`.
    * После достижения определенного порога предательств (`threshold`, по умолчанию 2), алгоритм начинает вести себя более осторожно и склоняется к конкуренции.

3.  **Восстановление Сотрудничества:**
    * Алгоритм отслеживает количество последовательных раундов, в которых внешний оппонент сотрудничал (`coopStreak`).
    * Если после достижения порога предательств оппонент сотрудничает определенное количество раз подряд (`coopThresholdToRecover`, по умолчанию 3), `betrayCount` сбрасывается, и алгоритм снова становится склонен к сотрудничеству.

4.  **Обнаружение и Эксплуатация Чередования:**
    * Алгоритм запоминает историю последних ходов внешнего оппонента (`opponentHistory`).
    * Если обнаруживается чередование последних четырех ходов по паттернам "сотрудничать - конкурировать - сотрудничать - конкурировать" (`0 1 0 1`) или "конкурировать - сотрудничать - конкурировать - сотрудничать" (`1 0 1 0`), алгоритм отвечает `FIGHTER_MODE.compete` для эксплуатации этого предсказуемого поведения.

5.  **Реакция на Преобладание Сотрудничества с Единичными Предательствами:**
    * Если за последние шесть ходов внешнего оппонента было как минимум четыре случая сотрудничества и хотя бы одно предательство, алгоритм отвечает `FIGHTER_MODE.compete` из осторожности, предполагая непоследовательную стратегию.

6.  **Реакция на Недавнюю Агрессию:**
    * Если два последних хода внешнего оппонента были `FIGHTER_MODE.compete`, алгоритм отвечает `FIGHTER_MODE.compete`.

7.  **Поведение по Умолчанию:**
    * Если ни одно из вышеперечисленных условий не выполняется, алгоритм по умолчанию выбирает `FIGHTER_MODE.cooperate`.
